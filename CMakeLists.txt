cmake_minimum_required(VERSION 3.10)
project(SPD)

# üîß Nazwa programu (≈Çatwa do zmiany w jednym miejscu)
set(EXECUTABLE_NAME scheduler)

# üìÇ Katalog wyj≈õciowy dla binarki
set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_SOURCE_DIR}/bin)

# üìå Ustawienie standardu C++
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED True)

# üì• Dodanie katalogu z nag≈Ç√≥wkami
include_directories(${CMAKE_SOURCE_DIR}/inc)

# üîç Znalezienie plik√≥w ≈∫r√≥d≈Çowych i nag≈Ç√≥wkowych
file(GLOB SOURCES "${CMAKE_SOURCE_DIR}/src/*.cpp")
file(GLOB HEADERS "${CMAKE_SOURCE_DIR}/inc/*.hpp")

# üõ†Ô∏è Tworzenie pliku wykonywalnego
add_executable(${EXECUTABLE_NAME} ${SOURCES} ${HEADERS})

# üîó Tworzenie symlinka w katalogu g≈Ç√≥wnym po buildzie
add_custom_command(
  TARGET ${EXECUTABLE_NAME} POST_BUILD
  COMMAND ${CMAKE_COMMAND} -E create_symlink
          ${CMAKE_RUNTIME_OUTPUT_DIRECTORY}/${EXECUTABLE_NAME}
          ${CMAKE_SOURCE_DIR}/${EXECUTABLE_NAME}
)
